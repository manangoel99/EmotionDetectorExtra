<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- font awesome from BootstrapCDN -->
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
        <link href="/public/app.css" rel="stylesheet">
    </head>
    <body class="home">
        <div class="container">
            <div class="login-page clearfix">
                <div class="logged-in-box auth0-box logged-in">
                    <h2>Welcome {{userinfo['name']}}</h2>
                    <pre>{{userinfo_pretty}}</pre>
                    <a id="qsLogoutBtn" class="btn btn-primary btn-lg btn-logout btn-block" href="/logout">Logout</a>
                </div>
            </div>
        </div>
        <div class="wrapper">
            <div class="container">
                <h1>Emotion Detector</h1>
                <p> Upload file here to proceed </p>
                <form method="post" action="/dashboard" enctype="multipart/form-data">   
                    <div class="upload-container">
                        <div class="border-container">
                            <div class="icons fa-4x">
                            <i class="fas fa-file-image" data-fa-transform="shrink-3 down-2 left-6 rotate--45"></i>
                            <i class="fas fa-file-alt" data-fa-transform="shrink-2 up-4"></i>
                            <i class="fas fa-file-pdf" data-fa-transform="shrink-3 down-2 right-6 rotate-45"></i>
                            </div>
                            <input type="file" name="file" id="file-upload" onchange="triggerForm()" style="opacity: 0;">   
                            <p>Drag and drop files here, or 
                            <a href="" id="file-browser" onclick= "trigger(event)">browse</a> your computer.</p>
                            <input id="submit" type="submit" value="Submit" style="opacity: 0;">
                        </div>
                    </div>    
                </form>
            </div>
        </div>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
            <div class="wrapper">
            <div class="container">            
            {% for message in messages %}
                <h2>{{ message }}</h2>
            {% endfor %}
            </div>
        </div>        
            {% endif %}
        {% endwith %}
    </body>
    <script>
        function trigger(e){
            e.preventDefault();
            document.getElementById('file-upload').click();
        }
        function triggerForm(){
            console.log("OLA");
            document.getElementById('submit').click();
        }
    </script>
</html>
